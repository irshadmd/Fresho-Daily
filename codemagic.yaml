# Check out https://docs.codemagic.io/yaml/yaml/ for more information
# Please review and update values in curly braces

workflows:
    ios-flutter:
        name: iOS App with Flutter Module
        environment:
            vars:
                FLUTTER_MODULE_DIR: "{{ ADD YOUR PATH HERE }}"
                HOST_IOS_APP_DIR: "{{ ADD YOUR PATH HERE }}"
                XCODE_PROJECT: "{{ ADD WORKSPACE NAME HERE }}"
                XCODE_SCHEME: "{{ ADD SCHEME NAME HERE }}"
            xcode: edge
            cocoapods: default
            flutter: stable
        scripts:
            - |
                # build Flutter module
                cd $FLUTTER_MODULE_DIR
                flutter packages get
                flutter build ios-framework --output=$FCI_BUILD_DIR/$HOST_IOS_APP_DIR/Flutter
            - |
                # build iOS project
                cd $HOST_IOS_APP_DIR
                pod install
                xcodebuild build -project "$XCODE_PROJECT.xcodeproj" -scheme "$XCODE_SCHEME" CODE_SIGN_IDENTITY="" CODE_SIGNING_REQUIRED=NO CODE_SIGNING_ALLOWED=NO
        artifacts:
            - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.app
            - $HOME/Library/Developer/Xcode/DerivedData/**/Build/**/*.dSYM
			environment:
  sdk: ">=2.7.0 <3.0.0"

dependencies:
  flutter:
    sdk: flutter


  # The following adds the Cupertino Icons font to your application.
  # Use with the CupertinoIcons class for iOS style icons.
  cupertino_icons: ^0.1.3
  sk_onboarding_screen: ^1.0.1
  splashscreen: ^1.2.0
  bottom_indicator_bar: ^1.0.0
  material_design_icons_flutter: ^4.0.5345
  google_fonts: ^1.1.0
  fluro: ^1.6.3
  shared_preferences: ^0.5.8
  http: ^0.12.2
  global_configuration: 1.5.0
  email_validator: ^1.0.0
  flutter_spinkit:
  progress_dialog:
  fluttertoast: ^7.0.1
  get: ^3.4.1
dev_dependencies:
  flutter_test:
    sdk: flutter

# For information on the generic Dart part of this file, see the
# following page: https://dart.dev/tools/pub/pubspec

# The following section is specific to Flutter.
flutter:

  # The following line ensures that the Material Icons font is
  # included with your application, so that you can use the icons in
  # the material Icons class.
  uses-material-design: true

  # To add assets to your application, add an assets section, like this:
  assets:
    - assets/